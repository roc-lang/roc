# +opt infer:print_variables

app "test" provides [main] to "./platform"

f = \{} ->
#^{-1} <1874><117>{} -<120>[[f(1)]]-> <116>[Ok <1882>{}]<80>*
    when g {} is
#        ^ <1864><1882>{} -<1872>[[g(2)]]-> <72>[Ok <1882>{}]<102>*
        _ -> Ok {}

g = \{} ->
#^{-1} <1864><1882>{} -<1872>[[g(2)]]-> <72>[Ok <1882>{}]<102>*
    when h {} is
#        ^ <1869><1882>{} -<1877>[[h(3)]]-> <94>[Ok <1882>{}]<124>*
        _ -> Ok {}

h = \{} ->
#^{-1} <1869><1882>{} -<1877>[[h(3)]]-> <94>[Ok <1882>{}]<124>*
    when f {} is
#        ^ <1874><117>{} -<120>[[f(1)]]-> <116>[Ok <1882>{}]<80>*
        _ -> Ok {}

main = f {}
#      ^ <1884><133>{} -<136>[[f(1)]]-> <138>[Ok <1882>{}]<1883>w_a
